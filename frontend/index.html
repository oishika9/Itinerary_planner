<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Travel Itinerary Planner</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />

    <!-- Google Maps JavaScript API -->
    <script src="config.js"></script>
  </head>
  <body>
    <video autoplay muted loop class="background-video" type="video/mp4">
      <source src="/static/backgroundvid.mp4" type="video/mp4" />
    </video>
    <div class="container">
      <!-- Header -->
      <header class="header">
        <h1>
          <i class="fas fa-map-marked-alt"></i> Travel Itinerary Planner yeppie
        </h1>
        <p>Plan your perfect trip</p>
      </header>

      <!-- Search Form -->
      <div class="search-section" id="searchSection">
        <div class="search-form">
          <h2>Plan Your Trip</h2>
          <form id="itineraryForm">
            <div class="form-group">
              <label for="destination">Destination (City)</label>
              <input
                type="text"
                id="destination"
                name="destination"
                placeholder="e.g., Paris, Tokyo, New York"
                list="cities"
                required
              />
              <datalist id="cities">
                <option value="Paris"></option>
                <option value="Tokyo"></option>
                <option value="New York"></option>
                <option value="London"></option>
                <option value="Barcelona"></option>
                <option value="Rome"></option>
                <option value="Amsterdam"></option>
                <option value="Berlin"></option>
                <option value="Madrid"></option>
                <option value="Prague"></option>
                <option value="Vienna"></option>
                <option value="Budapest"></option>
                <option value="Istanbul"></option>
                <option value="Dubai"></option>
                <option value="Singapore"></option>
                <option value="Hong Kong"></option>
                <option value="Sydney"></option>
                <option value="Melbourne"></option>
                <option value="San Francisco"></option>
                <option value="Los Angeles"></option>
                <option value="Chicago"></option>
                <option value="Boston"></option>
                <option value="Miami"></option>
                <option value="Seattle"></option>
                <option value="Toronto"></option>
                <option value="Vancouver"></option>
                <option value="Montreal"></option>
                <option value="Mexico City"></option>
                <option value="Buenos Aires"></option>
                <option value="Rio de Janeiro"></option>
                <option value="Sao Paulo"></option>
                <option value="Cape Town"></option>
                <option value="Cairo"></option>
                <option value="Marrakech"></option>
                <option value="Delhi"></option>
                <option value="Mumbai"></option>
                <option value="Bangkok"></option>
                <option value="Seoul"></option>
                <option value="Beijing"></option>
                <option value="Shanghai"></option>
              </datalist>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="budget">Budget (USD)</label>
                <input
                  type="number"
                  id="budget"
                  name="budget"
                  placeholder="500"
                  min="0"
                  required
                />
              </div>
              <div class="form-group">
                <label for="days">Duration (Days)</label>
                <input
                  type="number"
                  id="days"
                  name="days"
                  placeholder="3"
                  min="1"
                  max="20"
                  required
                />
              </div>
            </div>

            <div class="preferences-section">
              <h3>Activity Preferences (Rank 1-5)</h3>
              <p>
                Rank your preferred activity types from 1 (most preferred) to 5
                (least preferred)
              </p>

              <div class="preferences-grid">
                <div class="preference-item">
                  <label for="pref1">Most Preferred</label>
                  <select id="pref1" name="pref1" required>
                    <option value="">Select...</option>
                    <option value="Cultural">Cultural</option>
                    <option value="Food">Food</option>
                    <option value="Tour">Tour</option>
                    <option value="Recreational">Recreational</option>
                    <option value="Adventure">Adventure</option>
                  </select>
                </div>
                <div class="preference-item">
                  <label for="pref2">2nd Choice</label>
                  <select id="pref2" name="pref2" required>
                    <option value="">Select...</option>
                    <option value="Cultural">Cultural</option>
                    <option value="Food">Food</option>
                    <option value="Tour">Tour</option>
                    <option value="Recreational">Recreational</option>
                    <option value="Adventure">Adventure</option>
                  </select>
                </div>
                <div class="preference-item">
                  <label for="pref3">3rd Choice</label>
                  <select id="pref3" name="pref3" required>
                    <option value="">Select...</option>
                    <option value="Cultural">Cultural</option>
                    <option value="Food">Food</option>
                    <option value="Tour">Tour</option>
                    <option value="Recreational">Recreational</option>
                    <option value="Adventure">Adventure</option>
                  </select>
                </div>
                <div class="preference-item">
                  <label for="pref4">4th Choice</label>
                  <select id="pref4" name="pref4" required>
                    <option value="">Select...</option>
                    <option value="Cultural">Cultural</option>
                    <option value="Food">Food</option>
                    <option value="Tour">Tour</option>
                    <option value="Recreational">Recreational</option>
                    <option value="Adventure">Adventure</option>
                  </select>
                </div>
                <div class="preference-item">
                  <label for="pref5">Least Preferred</label>
                  <select id="pref5" name="pref5" required>
                    <option value="">Select...</option>
                    <option value="Cultural">Cultural</option>
                    <option value="Food">Food</option>
                    <option value="Tour">Tour</option>
                    <option value="Recreational">Recreational</option>
                    <option value="Adventure">Adventure</option>
                  </select>
                </div>
              </div>
            </div>

            <button type="submit" class="search-btn" id="searchBtn">
              <i class="fas fa-search"></i> Generate Itinerary
            </button>
          </form>
        </div>
      </div>

      <!-- Loading State -->
      <div class="loading-section" id="loadingSection" style="display: none">
        <div class="loading-spinner">
          <i class="fas fa-spinner fa-spin"></i>
          <p>Generating your perfect itinerary...</p>
        </div>
      </div>

      <!-- Results Section -->
      <div class="results-section" id="resultsSection" style="display: none">
        <div class="results-header">
          <h2 id="resultsTitle">Your Itinerary</h2>
          <div class="results-actions">
            <button class="btn-secondary" id="editBtn">
              <i class="fas fa-edit"></i> Edit Search
            </button>
            <button class="btn-primary" id="regenerateBtn">
              <i class="fas fa-sync"></i> Regenerate
            </button>
          </div>
        </div>

        <!-- Calendar View -->
        <div class="calendar-container" id="calendarContainer">
          <!-- Days will be dynamically generated here -->
        </div>

        <!-- Summary -->
        <div class="summary-section" id="summarySection">
          <div class="summary-card">
            <h3>Trip Summary</h3>
            <div class="summary-stats">
              <div class="stat">
                <span class="stat-label">Total Cost:</span>
                <span class="stat-value" id="totalCost">$0</span>
              </div>
              <div class="stat">
                <span class="stat-label">Activities:</span>
                <span class="stat-value" id="totalActivities">0</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Error State -->
      <div class="error-section" id="errorSection" style="display: none">
        <div class="error-card">
          <i class="fas fa-exclamation-triangle"></i>
          <h3>Oops! Something went wrong</h3>
          <p id="errorMessage">Please try again.</p>
          <button class="btn-primary" id="retryBtn">
            <i class="fas fa-redo"></i> Try Again
          </button>
        </div>
      </div>
    </div>

    <!-- Activity Replacement Modal -->
    <div class="modal" id="replacementModal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Replace Activity</h3>
          <button class="close-btn" id="closeModal">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <p>Choose a replacement activity for:</p>
          <div class="current-activity" id="currentActivity"></div>
          <div class="replacement-options" id="replacementOptions">
            <!-- Replacement options will be generated here -->
          </div>
        </div>
      </div>
    </div>

    <!-- Map Modal -->
    <div class="modal" id="mapModal">
      <div class="modal-content map-modal-content">
        <div class="modal-header">
          <h3 id="mapModalTitle">Activity Location</h3>
          <button class="close-btn" onclick="closeMapModal()">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <div id="map" class="map-container"></div>
          <div id="placeDetails" class="place-details">
            <div class="place-info">
              <div class="place-header">
                <h4 id="placeName"></h4>
                <div class="place-rating">
                  <span id="placeRating"></span>
                  <span id="placeRatingCount"></span>
                </div>
              </div>
              <div class="place-address" id="placeAddress"></div>
              <div class="place-photos" id="placePhotos"></div>
              <div class="place-hours" id="placeHours"></div>
              <div class="place-phone" id="placePhone"></div>
              <div class="place-website" id="placeWebsite"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
